<ng-container
  *ngIf="{
    events: events$ | async,
    cart: cart$ | async
  } as config"
>
  <eventify-org-toolbar
    class="sticky top-0 z-20"
    [cart]="config.cart"
    (formValueChanges)="onFormValueChanges($event)"
    (removeFromCart)="onRemoveFromCart($event)"
  ></eventify-org-toolbar>
  <div>
    <div *ngFor="let event of config.events">
      <ng-container *ngIf="event | eventifyOrgEventTitleCheckPipe : searchTerm">
        <div class="p-2 mb-4 sticky z-10 opacity-75 shadow-md text-center" style="top: 64px; background-color: #212121">
          {{ event[0] | date }}
        </div>
      </ng-container>
      <div class="grid mb-4 md:grid-cols-3 grid-cols-1 gap-4 px-16 sm:px-24">
        <ng-container *ngFor="let event of event[1]">
          <eventify-org-event-card
            *ngIf="event.title.toLowerCase().includes(searchTerm)"
            [id]="event._id"
            [title]="event.title"
            [imagePath]="event.flyerFront"
            [location]="event.venue"
            [startingDate]="event.startTime"
            [endingDate]="event.endTime"
            (addToCard)="onAddToCard(event)"
          ></eventify-org-event-card>
        </ng-container>
      </div>
    </div>
  </div>
</ng-container>
