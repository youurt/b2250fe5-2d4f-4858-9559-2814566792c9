<ng-container
  *ngIf="{
    events: events$ | async,
    cart: cart$ | async
  } as config"
>
  <eventify-org-toolbar
    class="sticky top-0 z-20"
    [cart]="config.cart"
    (formValueChanges)="onFormValueChanges($event)"
    (removeFromCart)="onRemoveFromCart($event)"
  ></eventify-org-toolbar>
  <div *ngFor="let event of config.events">
    <div
      *ngIf="event | eventifyOrgEventTitleCheckPipe : searchTerm"
      class="p-2 mb-4 sticky z-10 opacity-75 shadow-md text-center c-events__date-header"
    >
      {{ event[0] | date }}
    </div>
    <div class="grid mb-4 md:grid-cols-3 grid-cols-1 gap-4 px-16 sm:px-24">
      <ng-container *ngFor="let event of event[1]">
        <eventify-org-event-card
          *ngIf="event.title | eventifyOrgEventCardCheckPipe : searchTerm"
          [id]="event._id"
          [title]="event.title"
          [imagePath]="event.flyerFront"
          [location]="event.venue"
          [startingDate]="event.startTime"
          [endingDate]="event.endTime"
          (addToCart)="onAddToCart(event)"
        ></eventify-org-event-card>
      </ng-container>
    </div>
    <mat-toolbar class="bg-gray-800 text-white"> Total: {{ config.cart?.length }} </mat-toolbar>
  </div>
</ng-container>
